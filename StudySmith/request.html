<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Request Academic Help - Fast & Secure | StudySmith</title>
<meta name="description" content="Submit your requirements for assignments, CVs, or presentations. Fast turnaround and student-friendly pricing.">
<link rel="canonical" href="https://www.studysmith.online/request.html">
<link rel="icon" href="assets/images/logo.jpg">

<link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>

<header>
  <div class="nav-container">
    <a href="index.html" class="brand">
      <img src="assets/images/logo.jpg" class="nav-logo">
      <div>StudySmith<br><small style="color:#6b7280">Crafting Student Success</small></div>
    </a>
    <nav>
      <a href="index.html">Home</a>
      <a href="pricing.html">Pricing</a>
      <a href="https://hub.studysmith.online">Skill Hub</a>
      <a href="https://hub.studysmith.online/pastpapers">Past Papers</a>
    </nav>
    <a class="cta-button nav-cta" href="request.html">Get Help Now</a>
  </div>
</header>

<div class="content-wrapper" style="margin:40px auto; padding:0 24px;">
<h1 style="text-align:center;color:var(--navy)">Request a Service</h1>

<form id="requestForm" novalidate>
  <div class="form-group">
    <label>Assignment (49 PKR/page)</label>
    <input type="number" id="assignment" class="form-input" value="0" min="0">
  </div>

  <div class="form-group">
    <label>Presentation (99 PKR/slide)</label>
    <input type="number" id="presentation" class="form-input" value="0" min="0">
  </div>

  <div class="form-group">
    <label>CV / Resume (499 PKR)</label>
    <input type="number" id="cv" class="form-input" value="0" min="0">
  </div>

  <div class="form-group">
    <label>Plagiarism Check (299 PKR / up to 50 pages)</label>
    <input type="number" id="doc" class="form-input" value="0" min="0">
  </div>

  <label>
    <input type="checkbox" id="urgent"> Urgent (+79 PKR)
  </label>

  <div class="total-price" id="totalPrice">Total Price: 0 PKR</div>

  <div class="form-group">
    <label>Full Name</label>
    <input id="fullname" class="form-input" required>
  </div>

  <div class="form-group">
    <label>Email</label>
    <input id="email" type="email" class="form-input" required>
  </div>

  <div class="form-group">
    <label>Deadline</label>
    <input id="deadline" type="date" class="form-input" required>
  </div>

  <div class="form-group">
    <label>Time</label>
    <input id="time" type="time" class="form-input" required>
  </div>

  <button class="submit-btn" type="submit">Submit Request</button>
</form>

<div id="review-section" style="display:none;">
  <h2 style="color:var(--navy)">Review Your Request</h2>
  <div id="review-details"></div>

  <label>
    <input type="checkbox" id="agreeTerms"> I agree to the Terms & Privacy Policy
  </label><br><br>

  <button class="submit-btn" id="proceed">Proceed to Payment</button>
  <p id="sending-msg" style="display:none;color:green;margin-top:10px;">
    Submitting your order...
  </p>
</div>
</div>

<footer>Â© 2025 StudySmith</footer>

<script>
/* ================= GOOGLE FORMS CONFIG ================= */

const GOOGLE_FORM_URL =
'https://docs.google.com/forms/d/e/1FAIpQLSf52M3INdhF7pC5XS46usBJldVVNe7k75xa_lrB21Q3GyywUA/formResponse';

const GOOGLE_ENTRIES = {
  order_id:     'entry.2128069012',
  full_name:    'entry.2011009614',
  email:        'entry.1703329823',
  deadline:     'entry.326546809',
  time:         'entry.1080615915',
  assignment:   'entry.878594720',
  presentation: 'entry.145949167',
  cv:           'entry.1089691852',
  plagiarism:   'entry.655229838',
  urgent:       'entry.217338454',
  total_price:  'entry.698826194'
};

/* ================= ELEMENTS ================= */

const assignment = document.getElementById('assignment');
const presentation = document.getElementById('presentation');
const cv = document.getElementById('cv');
const doc = document.getElementById('doc');
const urgent = document.getElementById('urgent');
const totalPrice = document.getElementById('totalPrice');

const requestForm = document.getElementById('requestForm');
const reviewSection = document.getElementById('review-section');
const reviewDetails = document.getElementById('review-details');

const fullname = document.getElementById('fullname');
const email = document.getElementById('email');
const deadline = document.getElementById('deadline');
const time = document.getElementById('time');

const proceed = document.getElementById('proceed');
const agreeTerms = document.getElementById('agreeTerms');
const sendingMsg = document.getElementById('sending-msg');

/* ================= PRICE LOGIC ================= */

function price() {
  let t =
    assignment.value * 49 +
    presentation.value * 99 +
    cv.value * 499 +
    doc.value * 299;

  if (urgent.checked) t += 79;
  totalPrice.textContent = `Total Price: ${t} PKR`;
  return t;
}

document.querySelectorAll('#requestForm input')
  .forEach(i => i.addEventListener('input', price));

price();

/* ================= SUBMIT ================= */

requestForm.addEventListener('submit', e => {
  e.preventDefault();

  if (price() <= 0) {
    alert('Please select at least one service.');
    return;
  }

  if (!fullname.value || !email.value || !deadline.value || !time.value) {
    alert('Please fill in all details.');
    return;
  }

  const orderID = 'SS-' + Date.now();
  localStorage.setItem('orderID', orderID);

  reviewDetails.innerHTML = `
    <p><strong>Order ID:</strong> ${orderID}</p>
    <p><strong>Name:</strong> ${fullname.value}</p>
    <p><strong>Email:</strong> ${email.value}</p>
    <p><strong>Total:</strong> ${price()} PKR</p>
    <p>Status: Pending Payment</p>
  `;

  requestForm.style.display = 'none';
  reviewSection.style.display = 'block';
});

/* ================= GOOGLE FORM SEND ================= */

proceed.addEventListener('click', () => {
  if (!agreeTerms.checked) {
    alert('Please accept Terms & Privacy Policy.');
    return;
  }

  proceed.disabled = true;
  proceed.innerText = 'Processing...';
  sendingMsg.style.display = 'block';

  const data = new FormData();
  data.append(GOOGLE_ENTRIES.order_id, localStorage.getItem('orderID'));
  data.append(GOOGLE_ENTRIES.full_name, fullname.value);
  data.append(GOOGLE_ENTRIES.email, email.value);
  data.append(GOOGLE_ENTRIES.deadline, new Date(deadline.value).toDateString());
  data.append(GOOGLE_ENTRIES.time, time.value);
  data.append(GOOGLE_ENTRIES.assignment, assignment.value);
  data.append(GOOGLE_ENTRIES.presentation, presentation.value);
  data.append(GOOGLE_ENTRIES.cv, cv.value);
  data.append(GOOGLE_ENTRIES.plagiarism, doc.value);
  data.append(GOOGLE_ENTRIES.urgent, urgent.checked ? 'Yes' : 'No');
  data.append(GOOGLE_ENTRIES.total_price, price());

  fetch(GOOGLE_FORM_URL, {
    method: 'POST',
    mode: 'no-cors',
    body: data
  }).finally(() => {
    window.location.href = 'payment.html';
  });
});
</script>

</body>
</html>
